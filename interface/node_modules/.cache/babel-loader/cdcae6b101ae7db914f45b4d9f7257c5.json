{"ast":null,"code":"var _jsxFileName = \"/home/oscar/Documentos/Project_T/interface/src/pages/students.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Alert, Card, CardBody, Badge } from 'reactstrap';\nimport { CSVLink } from 'react-csv';\nimport { Link } from 'react-router-dom';\nimport Template from './template';\nimport ModalForm from '../components/modal';\nimport DataTable from '../components/data_table';\nimport { useCookies } from 'react-cookie';\nfunction Alunos() {\n  const [items, setItems] = useState([]);\n  const [cookies] = useCookies(['jwt']);\n  const getItems = () => {\n    fetch('http://localhost:8000/alunos', {\n      method: 'get',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: \"Bearer \".concat(cookies.jwt)\n      }\n    }).then(response => response.json()).then(items => setItems(items)).catch(err => console.log(err));\n  };\n  const addItemToState = item => {\n    setItems([...items, item]);\n  };\n  const updateState = item => {\n    const itemIndex = items.findIndex(data => data.id === item.id);\n    const newArray = [...items.slice(0, itemIndex), item, ...items.slice(itemIndex + 1)];\n    setItems(newArray);\n  };\n  const deleteItemFromState = id => {\n    const updatedItems = items.filter(item => item.id !== id);\n    setItems(updatedItems);\n  };\n  useEffect(() => {\n    getItems();\n  }, []);\n  useEffect(() => {\n    if (!cookies.jwt) {\n      setTimeout(() => {\n        window.location.href = '/';\n      }, 3000);\n    }\n  }, [cookies.jwt]);\n  if (!cookies.jwt) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"alert-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, \"Acesso Negado!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, \"E necessario esta logado para acessar esta p\\xE1gina!\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }, \"Voc\\xEA ser\\xE1 redirecionado para a p\\xE1gina de login!\")))));\n  } else {\n    return /*#__PURE__*/React.createElement(Template, {\n      pageTitle: \"Alunos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(DataTable, {\n      items: items,\n      updateState: updateState,\n      deleteItemFromState: deleteItemFromState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CSVLink, {\n      filename: 'db.csv',\n      style: {\n        float: 'left',\n        marginRight: '10px'\n      },\n      className: \"btn btn-success\",\n      data: items,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, \"Baixar\"), /*#__PURE__*/React.createElement(ModalForm, {\n      buttonLabel: \"Adicionar Aluno\",\n      addItemToState: addItemToState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }))))));\n  }\n}\nexport default Alunos;","map":{"version":3,"names":["React","useState","useEffect","Row","Col","Button","Alert","Card","CardBody","Badge","CSVLink","Link","Template","ModalForm","DataTable","useCookies","Alunos","items","setItems","cookies","getItems","fetch","method","headers","Authorization","concat","jwt","then","response","json","catch","err","console","log","addItemToState","item","updateState","itemIndex","findIndex","data","id","newArray","slice","deleteItemFromState","updatedItems","filter","setTimeout","window","location","href","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","color","pageTitle","filename","style","float","marginRight","buttonLabel"],"sources":["/home/oscar/Documentos/Project_T/interface/src/pages/students.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Alert, Card, CardBody, Badge } from 'reactstrap';\nimport { CSVLink } from 'react-csv';\nimport { Link } from 'react-router-dom';\nimport Template from './template';\nimport ModalForm from '../components/modal';\nimport DataTable from '../components/data_table';\nimport { useCookies } from 'react-cookie';\n\nfunction Alunos() {\n  const [items, setItems] = useState([]);\n  const [cookies] = useCookies(['jwt']);\n\n  const getItems = () => {\n    fetch('http://localhost:8000/alunos', {\n      method: 'get',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${cookies.jwt}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((items) => setItems(items))\n      .catch((err) => console.log(err));\n  };\n\n  const addItemToState = (item) => {\n    setItems([...items, item]);\n  };\n\n  const updateState = (item) => {\n    const itemIndex = items.findIndex((data) => data.id === item.id);\n    const newArray = [...items.slice(0, itemIndex), item, ...items.slice(itemIndex + 1)];\n    setItems(newArray);\n  };\n\n  const deleteItemFromState = (id) => {\n    const updatedItems = items.filter((item) => item.id !== id);\n    setItems(updatedItems);\n  };\n\n  useEffect(() => {\n    getItems();\n  }, []);\n\n  useEffect(() => {\n    if (!cookies.jwt) {\n      setTimeout(() => {\n        window.location.href = '/';\n      }, 3000);\n    }\n  }, [cookies.jwt]);\n\n  if (!cookies.jwt) {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <Alert color=\"danger\">\n              <h4 className=\"alert-heading\">Acesso Negado!</h4>\n              <p>E necessario esta logado para acessar esta página!</p>\n              <hr />\n              <p className=\"mb-0\">Você será redirecionado para a página de login!</p>\n            </Alert>\n          </div>\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <Template pageTitle=\"Alunos\">\n        <Row className=\"mb-4\">\n          <Col>\n            <Card>\n              <CardBody>\n                <DataTable items={items} updateState={updateState} deleteItemFromState={deleteItemFromState} />\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Card>\n              <CardBody>\n                <CSVLink\n                  filename={'db.csv'}\n                  style={{ float: 'left', marginRight: '10px' }}\n                  className=\"btn btn-success\"\n                  data={items}\n                >Baixar\n                </CSVLink>\n                <ModalForm buttonLabel=\"Adicionar Aluno\" addItemToState={addItemToState} />\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </Template>\n    );\n  }\n}\n\nexport default Alunos;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}